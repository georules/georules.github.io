<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>codeslam</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/grayscale.css" rel="stylesheet">
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top">

  <!--<nav class="navbar navbar-custom navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">

                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-main-collapse">
                    <i class="fa fa-bars"></i>
                </button>
                <a id="main" class="navbar-brand page-scroll" href="#">
                    codeslam
                </a>


            </div>



            <div class="collapse navbar-collapse navbar-right navbar-main-collapse">
                <ul class="nav navbar-nav">
                    <li class="hidden active">
                        <a href="#page-top"></a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#" id="log">.log()</a>
                    </li>


                </ul>
            </div>



        </div>

    </nav> -->

<div class="main">
<svg class="intro-svg"></svg>
    <section class="intro">

        <div class="intro-body">
            <div class="container">
              <div class="row">
                <div class="col-md-12">
                  <svg class="small"></svg>
                </div>
              </div>
              <div class="row">
                  <div class="col-md-12">
                      <div id="controls">
                      </div>
                  </div>
              </div>
                <div class="row">
                    <div class="col-md-12">
                        <h1 class="brand-heading">codeslam</h1>
                        <!--<p class="intro-text"><span data-container="body" data-toggle="popover" data-placement="bottom"
                          data-content="stop taking coding so seriously. have fun.">interactive code experiences</span></p>-->
                          <div class="intro-text-no"></div>

                    </div>
                </div>

                <div class="row stuff" style="display:none;">
                  <div class="col-md-12">
                    <p>
                      Programming is a creative endeavor.  Logic is your tool.
                      <br>
                      Programming is art.  Output is not the only canvas of expression.
                      <br>
                      Programming is fun.  Stop learning, start playing.
                    </p>
                  </div>
                </div>

                <div class="row stuff" style="display:none;">
                  <div class="col-md-12">
                    <p>Sign up with your email to find out when codeslams are here.</p>
                    <!-- Begin MailChimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/slim-081711.css" rel="stylesheet" type="text/css">
<style type="text/css">
#mc_embed_signup input.button {
  display: block;
  position: relative;
  background-color: steelblue;
  padding: 0;
  margin: 0 auto ;
  border: 0 none;
  border-bottom: steelblue 3px solid;
  border-radius: 6px;
  color: #F2FF00;
  cursor: pointer;
  font-size: 14px;
  width: 140px;
  height: 36px;
  line-height: 36px;
  font-weight: bold;
  text-align: center;
  text-decoration: none;
  vertical-align: top;
}
#mc_embed_signup .button:hover {
  background-color:lightsteelblue;
}
#mc_embed_signup{
  text-align: center;
}
#mc_embed_signup input.email{
  text-align: center;
  width:35%;
  color: black;
  margin:0 auto;

}
#mc_embed_signup {
  padding:0;
  margin:0 auto;
}
#mc_embed_signup form {
  padding:0;
  margin:0 auto;
}
/* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div  id="mc_embed_signup">
<form action="//codeslam.us11.list-manage.com/subscribe/post?u=e2e5a04852a30d93a8734a602&amp;id=2d6df73d73" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
  <div id="mc_embed_signup_scroll">
<input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email" required>
  <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
  <div style="position: absolute; left: -5000px;"><input type="text" name="b_e2e5a04852a30d93a8734a602_2d6df73d73" tabindex="-1" value=""></div>
  <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
  </div>
</form>
</div>

<!--End mc_embed_signup-->

                  </div>

            </div>
        </div>

        <footer>

        </footer>

    </section>
  </div>
  <div class="content">

  </div>





    <!-- jQuery -->
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.easing.min.js"></script>

    <script src="js/d3.min.js"></script>
    <script src="js/superformula.js"></script>
    <script src="js/dat.gui.js"></script>
<script>

$(document).ready(function() {
  setTimeout(function() {
    console.log("doit")
    $(".intro-text-no").addClass("intro-text-doit")
    $(".stuff").fadeIn()
  },1000)

})


$("[data-toggle=popover]").popover();
//mod from http://bl.ocks.org/mbostock/3081153 and http://bl.ocks.org/mbostock/1020902
//http://bl.ocks.org/mbostock/1021103
//

    parameters = ['m','n1','n2','n3','a','b']
    var shape = function(s) {

        parameters.forEach(function(p){
            this["_"+p] = 10.0
        })
    }
    parameters.forEach(function(p) {
        Object.defineProperty(shape.prototype,p, {
            get:function(){
                prop = this["_"+p]
                return typeof(prop) != 'undefined' ? prop : 10.0
            },
            set:function(x){this["_"+p] = x}
        })

    })

    window.selected = null
    window.onload = function() {
        var s = new shape()
        var gui = new dat.GUI({autoPlace:false, width:"100%"})
        dat.GUI.toggleHide();
        document.getElementById('controls').appendChild(gui.domElement)
        parameters.forEach(function(p) {
            var controller = gui.add(s,p).min(-10).max(20).step(0.001)

            controller.onChange(function(v) {
              //console.log(window.selected)
                //t = d3.superformulaTypes[window.selected]
                n = d3.superformula().size(size*50).segments(250).type(window.selected)
                d = n.param(p,v)
                d3.select(".big").transition().duration(0).attr("d", d)


                    data = d3.superformulaObjects[window.selected]
                    data[p] = v


                d3.select("#"+window.selected).transition().duration(0).attr("d",d.size(size))




            })
        })

       $('.close-button').hide()


var size = window.innerHeight/2;
var svg = d3.select(".intro-svg")
    .attr("width", window.innerWidth)
    .attr("height", size/1.5)
    //.attr("top", 0)
    //.attr("left",0)



    var x = d3.scale.ordinal()
        .domain(d3.superformulaTypes)
        .rangePoints([0, 300], 1);

    var big = d3.superformula()
        .type("circle")
        .size(size * 50)
        .segments(250);


svgtranslatey = size/3+25
    var path = svg.append("path")
        .attr("class", "big")
.attr("transform", "translate("+window.innerWidth/2+","+svgtranslatey+")")
        .attr("d", big)
        .attr("stroke",'steelblue')
        .attr("fill","transparent")
        .attr("stroke-width","5px")

        var small = d3.superformula()
            .type(function(d) { return d; })
            .size(size);

hide = true
  d3.select(".small").attr("width",300).attr("height",75).selectAll("a")
    .data(d3.superformulaTypes)
  .enter().append("a")
    .attr("transform", function(d, i) { return "translate("+ x(d) + ",40)"; })
  .append("path").attr("id", String)
    .attr("class", "small smallo")
    .attr("d", small)
    .on("mousedown", function() { d3.select(this).style("fill", "aliceblue"); })
    .on("mouseup", function() { d3.select(this).style("fill", null); })
    .on("click", function(d) {
      d3.select(".big").transition().duration(1000).attr("d", big.type(d))
      parameters.forEach(function(p) {
          data = d3.superformulaObjects[d]
          s[p] = data[p]
      })
      gui.__controllers.forEach(function(g){
          g.updateDisplay()
      })
      window.selected = d
      d3.selectAll(".smallo").style("fill","steelblue")
      d3.select("#"+window.selected).style("fill","lightsteelblue")

      $("#controls").slideFadeToggle()

      //console.log("clock")
        if(hide) {
            window.loopit=false

            hide=false
        }
        else{
            window.loopit=true
            ii = d3.superformulaTypes.indexOf(window.selected)
            loop()
            hide=true
        }


    });

    window.ii = d3.superformulaTypes.indexOf("circle")+1;
    window.loopit=true
    function loop() {

        ii = window.ii
        if(window.loopit) {

          d = d3.superformulaTypes[ii]
          d2 = d3.superformulaTypes[(ii==0)?d3.superformulaTypes.length-1:ii-1]
          window.selected = d
          n = d3.superformula().size(size*50).segments(250).type(d)

          parameters.forEach(function(p) {
              data = d3.superformulaObjects[d]
              s[p] = data[p]
          })

          gui.__controllers.forEach(function(g){
              g.updateDisplay()
          })

          d3.selectAll(".smallo").style("fill","steelblue")
          d3.select("#"+window.selected).style("fill","lightsteelblue")

          d3.select(".big").transition().delay(350).duration(1000).attr("d",n)
          .delay(350)
            .each("end", loop);
            ii = (ii+1 == d3.superformulaTypes.length) ? 0 : ii+1;
        }
    }
    loop()

        window.onresize = function() {
          var size = window.innerHeight/2;
          svgtranslatey = size/3+25
      path.attr("transform", "translate("+window.innerWidth/2+","+svgtranslatey+")")
      var size = window.innerHeight/2;
      var svg = d3.select(".intro-svg")
          .attr("width", window.innerWidth)
          .attr("height", size/1.5)
    }


    $.fn.slideFadeToggle  = function(speed, easing, callback) {
            return this.animate({opacity: 'toggle', height: 'toggle'}, speed, easing, callback);
    };

        $("#controls").hide()
        $(".content").hide()





$('.navbar-collapse ul li a').click(function() {
    $('.navbar-toggle:visible').click();
});

var CodeSlam = function() {
  console.log("codeslam functions", ["main", "log"])
}

CodeSlam.prototype.log = function() {
  $(".main").fadeOut("fast", function() {
    $(".content").html("<div class='container'><h1>.log()</h1><h3>if(codeslam.log().length === 0) {</h3><h3> return \"codeslams are coming\"</h3><h3>}</h3></div>")
    $(".content").fadeIn()
  })
  return this;
}

CodeSlam.prototype.main = function(d) {
  if (typeof(d) !== 'undefined') {
    window.ii = d
  }
  else {
    //loop()
  }
  $(".content").fadeOut("fast", function() {
    $(".main").fadeIn("fast")
  })
  return this;
}

codeslam = new CodeSlam()

$("#log").click(function() {
  codeslam.log()
})
$("#main").click(function() {
  codeslam.main();
})


}





</script>

</body>

</html>
